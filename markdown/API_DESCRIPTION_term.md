# API Endpoint Description - Term

| Role   | Endpoint         | Method | Body (if any) | Description (VN)                       | Sample Res Data                  |
|--------|------------------|--------|---------------|----------------------------------------|----------------------------------|
| Any    | /terms           | GET    |               | Lấy danh sách học kỳ                   | [ { id, name, start_date, end_date, ... } ] |
| Admin  | /terms           | POST   | {<br>&nbsp;&nbsp;name: string, // required, định dạng: YYYY[A-Z] (VD: 2024A), duy nhất trong bảng terms<br>&nbsp;&nbsp;start_date: date, // required, ngày bắt đầu học kỳ<br>&nbsp;&nbsp;end_date: date, // required, phải sau start_date<br>&nbsp;&nbsp;roster_deadline: date, // required, phải >= start_date và < end_date, **phải sau start_date ít nhất 2 tuần**<br>&nbsp;&nbsp;grade_entry_date: date, // required, phải > end_date<br>} | Thêm mới học kỳ <br> <br>**Lưu ý:** <br>- `name` phải duy nhất, định dạng năm + ký tự (VD: 2024A). <br>- Nếu đã có học kỳ bị xóa mềm với tên này, bản ghi sẽ được khôi phục và cập nhật lại.<br>- `end_date` phải sau `start_date`. <br>- `roster_deadline` phải nằm trong khoảng từ `start_date` đến trước `end_date` **và phải sau start_date ít nhất 2 tuần**.<br>- `grade_entry_date` phải sau `end_date`. <br>- **Không được để thời gian của học kỳ chồng chéo với bất kỳ học kỳ nào khác (bao gồm cả các học kỳ đã bị xóa mềm).** <br>- Nếu nhập tên trùng với học kỳ đã bị xóa mềm, FE nên cảnh báo người dùng về việc khôi phục bản ghi cũ. | { id, name, ... } |
| Any    | /terms/:id       | GET    |               | Lấy thông tin một học kỳ               | { id, name, courses: [...] }     |
| Admin  | /terms/:id       | PUT    | {<br>&nbsp;&nbsp;name?: string, // định dạng: YYYY[A-Z], duy nhất (ngoại trừ bản ghi hiện tại)<br>&nbsp;&nbsp;start_date?: date,<br>&nbsp;&nbsp;end_date?: date, // phải sau start_date<br>&nbsp;&nbsp;roster_deadline?: date, // phải >= start_date và < end_date, **và phải sau start_date ít nhất 2 tuần**<br>&nbsp;&nbsp;grade_entry_date?: date, // phải > end_date<br>} | Cập nhật học kỳ <br> <br>**Lưu ý:** <br>- Có thể gửi 1 phần các trường, nhưng mỗi trường đều phải tuân thủ các ràng buộc như khi tạo mới. <br>- `name` phải duy nhất (trừ bản ghi hiện tại). <br>- Nếu đã có học kỳ bị xóa mềm với tên này, bản ghi sẽ được khôi phục và cập nhật lại.<br>- `end_date` phải sau `start_date`. <br>- `roster_deadline` phải nằm trong khoảng từ `start_date` đến trước `end_date` **và phải sau start_date ít nhất 2 tuần**.<br>- `grade_entry_date` phải sau `end_date`. <br>- **Không được để thời gian của học kỳ chồng chéo với bất kỳ học kỳ nào khác (bao gồm cả các học kỳ đã bị xóa mềm).** <br>- Nếu nhập tên trùng với học kỳ đã bị xóa mềm, FE nên cảnh báo người dùng về việc khôi phục bản ghi cũ. | { id, name, ... } |
| Admin  | /terms/:id       | DELETE |               | Xóa học kỳ (chỉ khi không có lớp học)  | { message }                      |